Director {                # define myself
    Name                    = <%= @clientcert %>-dir
    DIRport                 = <%= @port %>  # where we listen for UA connections
    QueryFile               = "/etc/bacula/scripts/query.sql"
    WorkingDirectory        = <%= @homedir %>
    Pid Directory           = <%= @rundir %>
    Maximum Concurrent Jobs = <%= @max_concurrent_jobs %>
    Password                = "<%= @password %>"  # Console password
    Messages                = Daemon
    <% if scope.lookupvar('bacula::ssl') -%>
    <%= scope.function_template(['bacula/_ssl.erb']) %>
    TLS DH File             = <%= @conf_dir %>/ssl/dh1024.pem
    <% end -%>
}

Pool {
    Name            = Default
    Pool Type       = Backup
    Action On Purge = Truncate
    Label Format    = Default-
    Storage         = <%= @storage %>-sd
}

# Generic catalog service
Catalog {
    Name   = MyCatalog
    dbname = "bacula"; dbuser = "<%= @db_user %>"; dbpassword = "<%= @db_pw %>"
}

Messages {
    Name    = Standard
    console = all, !skipped, !saved
    append  = "/var/log/bacula/log" = all, !skipped
    catalog = all
}

Messages {
    Name    = Daemon
    console = all, !skipped, !saved
    append  = "/var/log/bacula/log" = all, !skipped
}

@/etc/bacula/conf.d/schedule.conf
@/etc/bacula/conf.d/storage.conf
@/etc/bacula/conf.d/pools.conf
@/etc/bacula/conf.d/client.conf
@/etc/bacula/conf.d/fileset.conf
@/etc/bacula/conf.d/jobdefs.conf
@/etc/bacula/conf.d/job.conf

