zone "<%= name %>" IN {
  type <%= scope.lookupvar("type") %>;
<% if scope.lookupvar("type") != "forward" -%>
  <% if scope.lookupvar("real_file").is_a?(String) then %>file "<%= scope.lookupvar("real_file") %>";<% end -%>
  <% if allow_update.is_a?(Array) then %>allow-update { <%= allow_update.join("; ") %>; };<% end %>
  <% if allow_update.is_a?(String) then %>allow-update { <%= allow_update %>; };<% end -%>
<% end -%>
<% if custom_config.is_a?(String) then -%>
  <%= custom_config %>
<% end -%>
};
