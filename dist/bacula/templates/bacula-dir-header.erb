Director {                # define myself
  Name                    = <%= fqdn %>-dir
  DIRport                 = <%= port %>  # where we listen for UA connections
  QueryFile               = "/etc/bacula/scripts/query.sql"
  WorkingDirectory        = "<%= working_directory %>"
  PidDirectory            = "<%= pid_directory %>"
  Maximum Concurrent Jobs = 1
  Password                = "<%= password %>"  # Console password
  Messages                = Daemon
  DirAddress              = 127.0.0.1
}

Pool {
  Name            = Default
  Pool Type       = Backup
  Action On Purge = Truncate
}

# Generic catalog service
Catalog {
  Name   = MyCatalog
  dbname = "bacula"; dbuser = "<%= db_user %>"; dbpassword = "<%= db_pw %>"
}

Messages {
  Name             = Standard
  console          = all, !skipped, !saved
  append           = "/var/lib/bacula/log" = all, !skipped
  catalog          = all
}

Messages {
  Name         = Daemon
  console      = all, !skipped, !saved
  append       = "/var/lib/bacula/log" = all, !skipped
}

#
# Restricted console used by tray-monitor to get the status of the director
#
Console {
  Name       = <%= fqdn %>-mon
  Password   = "EWDjRkucylqjSjwtX_y2UKlS-Ihr4E01V"
  CommandACL = status, .status
}

@/etc/bacula/conf.d/schedule.conf
@/etc/bacula/conf.d/storage.conf
@/etc/bacula/conf.d/pools.conf
@/etc/bacula/conf.d/client.conf
@/etc/bacula/conf.d/fileset.conf
@/etc/bacula/conf.d/jobdefs.conf
@/etc/bacula/conf.d/job.conf

